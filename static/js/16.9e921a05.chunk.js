(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{408:function(_,e,t){},574:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61),D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19),D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20),D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_family__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(58),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(37),_relatives_services_constant__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4),mockjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(95),mockjs__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(mockjs__WEBPACK_IMPORTED_MODULE_10__),_Checker_css__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(408),_Checker_css__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_Checker_css__WEBPACK_IMPORTED_MODULE_11__),Checker=function(_Component){function Checker(props){var _this;return Object(D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,Checker),_this=Object(D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.a)(this,Object(D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(Checker).call(this,props)),_this.switchMod=function(_,e){_.preventDefault(),_this.setState({mod:e})},_this.switchItf=function(_,e){_.preventDefault(),_this.setState({itf:e},function(){_this.handleRequest()})},_this.handleRequest=function(){var _this$state$itf=_this.state.itf,repositoryId=_this$state$itf.repositoryId,method=_this$state$itf.method,url=_this$state$itf.url,target="".concat(_this.state.target,"/app/mock/").concat(repositoryId,"/").concat(method,"/").concat(url),proxy="".concat(_relatives_services_constant__WEBPACK_IMPORTED_MODULE_9__.c,"/proxy?target=").concat(target),requests=[fetch("".concat(_relatives_services_constant__WEBPACK_IMPORTED_MODULE_9__.c,"/app/mock/schema/").concat(_this.state.itf.id)).then(function(_){return _.json()}),fetch(proxy).then(function(_){return _.json()})];Promise.all(requests).then(function(_ref){var _ref2=Object(D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,2),schema=_ref2[0],data=_ref2[1],_ref3=mockjs__WEBPACK_IMPORTED_MODULE_10___default.a.valid,Diff=_ref3.Diff,Assert=_ref3.Assert,nextMatch=Assert.match;Assert.match=function(type,path,actual,expected,result,message){"string"===typeof expected&&(expected=eval("("+expected+")")),nextMatch(type,path,actual,expected,result,message)};var result=Diff.diff(schema,data),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=result[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var i=_step.value;console.warn(Assert.message(i))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}})},_this.state={mod:null,itf:null,target:_relatives_services_constant__WEBPACK_IMPORTED_MODULE_9__.c},_this}return Object(D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(Checker,_Component),Object(D_project_workspace_frontend_rap2_dolores_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(Checker,[{key:"render",value:function(){var _=this,e=this.props.repository;if(e.fetching)return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_utils__WEBPACK_IMPORTED_MODULE_8__.l,null);e=e.data;var t=this.state.mod||e.modules[0],r=this.state.itf||t.interfaces[0];return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section",{className:"Checker"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"card-mods clearfix"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",{className:"card-title"},"\u6a21\u5757\uff1a"),e.modules.map(function(e){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_family__WEBPACK_IMPORTED_MODULE_7__.b,{key:e.id,to:"",onClick:function(t){return _.switchMod(t,e)},className:e.id===t.id?"active":""},e.name)})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"card-itfs clearfix"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",{className:"card-title"},"\u63a5\u53e3\uff1a"),t.interfaces.map(function(e){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_family__WEBPACK_IMPORTED_MODULE_7__.b,{key:e.id,to:"",onClick:function(t){return _.switchItf(t,e)},className:e.id===r.id?"active":""},e.name)})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input",{value:this.state.target,onChange:function(e){return _.setState({target:e.target.value})},className:"form-control"})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"card-result"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"card-title"},"".concat(_relatives_services_constant__WEBPACK_IMPORTED_MODULE_9__.c,"/app/mock/data/").concat(r.id)),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("pre",null,JSON.stringify(this.state.result,null,2))))}},{key:"componentWillReceiveProps",value:function(_){var e=this,t=_.repository;if((t=t.data).id){var r=this.state.mod||t.modules[0],a=this.state.itf||r.interfaces[0];fetch("".concat(_relatives_services_constant__WEBPACK_IMPORTED_MODULE_9__.c,"/app/mock/data/").concat(a.id)).then(function(_){return _.json()}).then(function(_){e.setState({result:_})})}}}]),Checker}(react__WEBPACK_IMPORTED_MODULE_6__.Component),mapStateToProps=function(_){return{auth:_.auth,repository:_.repository}},mapDispatchToProps={};__webpack_exports__.default=Object(_family__WEBPACK_IMPORTED_MODULE_7__.j)(mapStateToProps,mapDispatchToProps)(Checker)}}]);
//# sourceMappingURL=16.9e921a05.chunk.js.map